OutbreakTools *  checking examples ... ERROR
Running examples in 'OutbreakTools-Ex.R' failed
The error most likely occurred in:

> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: obkData-class
> ### Title: Formal class "obkData"
> ### Aliases: obkData obkData-class initialize,obkData-method
> ###   summary,obkData-method summary.obkData show,obkData-method
> ###   get.locus,obkData-method get.locus.obkData get.nlocus,obkData-method
> ###   get.nlocus.obkData get.dna,obkData-method get.dna.obkData
> ###   get.sequences,obkData-method get.sequences.obkData
> ###   get.nsequences,obkData-method get.nsequences.obkData get.context
> ###   get.context,obkData-method get.context.obkData get.ncontext
> ###   get.ncontext,obkData-method get.ncontext.obkData get.records
> ###   get.records,obkData-method get.records.obkData get.nrecords
> ###   get.nrecords,obkData-method get.nrecords.obkData
> ###   get.contacts,obkData-method get.contacts.obkData
> ###   get.ncontacts,obkData-method get.ncontacts.obkData head.obkData
> ###   head,obkData-method tail.obkData tail,obkData-method get.trees
> ###   get.ntrees get.trees,obkData-method get.trees.obkData
> ###   get.ntrees,obkData-method get.ntrees.obkData
> ### Keywords: classes
> 
> ### ** Examples
> 
> ## LOAD DATA ##
> data(ToyOutbreakRaw)
> attach(ToyOutbreakRaw)
The following object is masked from package:datasets:

    trees
> 
> ## CONSTRUCTING AN OBKDATA OBJECT ##
> x <- new ("obkData", individuals=individuals, records=records,
+           contacts=contacts, contacts.start=contacts.start,
+           contacts.end=contacts.end, dna=dna,
+           dna.individualID=dna.info$individualID,
+           dna.date=dna.info$date, sample=dna.info$sample, trees=trees)
> 
> detach(ToyOutbreakRaw)
> 
> 
> ## EXAMINING THE OBJECT ##
> head(x@individuals)
  infector DateInfected Sex Age      lat        lon
1       NA   2000-01-01   M  33 51.52152 -0.1805272
2        1   2000-01-02   F  42 51.51502 -0.1770907
3        2   2000-01-03   F  44 51.51885 -0.1614321
4        2   2000-01-03   M  49 51.51672 -0.1706063
5        2   2000-01-03   M  34 51.51797 -0.1685206
6        2   2000-01-03   M  31 51.51401 -0.1662320
> names(x@records)
[1] "Fever"
> lapply(x@records, head)
$Fever
  individualID       date temperature
1            1 2000-01-03        39.1
2            2 2000-01-03        40.4
3            3 2000-01-07        40.0
4            4 2000-01-08        39.8
5            5 2000-01-04        39.4
6            6 2000-01-06        39.3

> x@contacts
 Number of individuals = 20
 Number of contacts = 19
 Contacts = dynamic
 Network attributes:
  vertices = 20 
  directed = FALSE 
  hyper = FALSE 
  loops = FALSE 
  multiple = TRUE 
  bipartite = FALSE 
  total edges= 19 
    missing edges= 0 
    non-missing edges= 19 

 Vertex attribute names: 
    vertex.names 

 Edge attribute names: 
    active 

Date of origin: [1] "2000-01-01"
> x@dna
= @dna =
[ 836 DNA sequences in 2 loci ]
$gene1
418 DNA sequences in binary format stored in a matrix.

All sequences of same length: 600 

Labels: 1 2 3 4 5 6 ...

Base composition:
    a     c     g     t 
0.237 0.248 0.252 0.263 

$gene2
418 DNA sequences in binary format stored in a matrix.

All sequences of same length: 1000 

Labels: 419 420 421 422 423 424 ...

Base composition:
    a     c     g     t 
0.223 0.243 0.257 0.276 


= @meta =
[ meta information on the sequences ]
  individualID       date locus sample
1            1 2000-01-01 gene1      1
2            2 2000-01-02 gene1      2
3            3 2000-01-03 gene1      3
4            4 2000-01-03 gene1      4

...
    individualID       date locus sample
833          415 2000-01-10 gene2    415
834          416 2000-01-10 gene2    416
835          417 2000-01-10 gene2    417
836          418 2000-01-10 gene2    418
> x@trees
1 phylogenetic trees
> 
> 
> ## HEAD, TAIL, SUMMARY ##
> head(x)

=== obkData x ===
== @individuals== 
  infector DateInfected Sex Age      lat        lon
1       NA   2000-01-01   M  33 51.52152 -0.1805272
2        1   2000-01-02   F  42 51.51502 -0.1770907
3        2   2000-01-03   F  44 51.51885 -0.1614321
4        2   2000-01-03   M  49 51.51672 -0.1706063

== @records== 
  individualID       date temperature
1            1 2000-01-03        39.1
2            2 2000-01-03        40.4
3            3 2000-01-07        40.0
4            4 2000-01-08        39.8

== @dna== 
= @dna =
[ 836 DNA sequences in 2 loci ]
$gene1
418 DNA sequences in binary format stored in a matrix.

All sequences of same length: 600 

Labels: 1 2 3 4 5 6 ...

Base composition:
    a     c     g     t 
0.237 0.248 0.252 0.263 

$gene2
418 DNA sequences in binary format stored in a matrix.

All sequences of same length: 1000 

Labels: 419 420 421 422 423 424 ...

Base composition:
    a     c     g     t 
0.223 0.243 0.257 0.276 


= @meta =
[ meta information on the sequences ]
  individualID       date locus sample
1            1 2000-01-01 gene1      1
2            2 2000-01-02 gene1      2
3            3 2000-01-03 gene1      3
4            4 2000-01-03 gene1      4

...
    individualID       date locus sample
833          415 2000-01-10 gene2    415
834          416 2000-01-10 gene2    416
835          417 2000-01-10 gene2    417
836          418 2000-01-10 gene2    418

== @contacts== 
 Number of individuals = 20
 Number of contacts = 19
 Contacts = dynamic
 Network attributes:
  vertices = 20 
  directed = FALSE 
  hyper = FALSE 
  loops = FALSE 
  multiple = TRUE 
  bipartite = FALSE 
  total edges= 19 
    missing edges= 0 
    non-missing edges= 19 

 Vertex attribute names: 
    vertex.names 

 Edge attribute names: 
    active 

Date of origin: [1] "2000-01-01"

== @trees== 
1 phylogenetic trees

== Empty slots == 
 @context
> tail(x)

=== obkData x ===
== @individuals== 
    infector DateInfected Sex Age      lat        lon
415      187   2000-01-10   F  37 51.51327 -0.1495445
416      145   2000-01-10   M  40 51.52186 -0.1674485
417       80   2000-01-10   F  39 51.51833 -0.1687603
418      140   2000-01-10   M  29 51.51698 -0.1889231

== @records== 
    individualID       date temperature
415          415 2000-01-13        40.5
416          416 2000-01-13        39.4
417          417 2000-01-13        39.0
418          418 2000-01-13        39.3

== @dna== 
= @dna =
[ 836 DNA sequences in 2 loci ]
$gene1
418 DNA sequences in binary format stored in a matrix.

All sequences of same length: 600 

Labels: 1 2 3 4 5 6 ...

Base composition:
    a     c     g     t 
0.237 0.248 0.252 0.263 

$gene2
418 DNA sequences in binary format stored in a matrix.

All sequences of same length: 1000 

Labels: 419 420 421 422 423 424 ...

Base composition:
    a     c     g     t 
0.223 0.243 0.257 0.276 


= @meta =
[ meta information on the sequences ]
  individualID       date locus sample
1            1 2000-01-01 gene1      1
2            2 2000-01-02 gene1      2
3            3 2000-01-03 gene1      3
4            4 2000-01-03 gene1      4

...
    individualID       date locus sample
833          415 2000-01-10 gene2    415
834          416 2000-01-10 gene2    416
835          417 2000-01-10 gene2    417
836          418 2000-01-10 gene2    418

== @contacts== 
 Number of individuals = 20
 Number of contacts = 19
 Contacts = dynamic
 Network attributes:
  vertices = 20 
  directed = FALSE 
  hyper = FALSE 
  loops = FALSE 
  multiple = TRUE 
  bipartite = FALSE 
  total edges= 19 
    missing edges= 0 
    non-missing edges= 19 

 Vertex attribute names: 
    vertex.names 

 Edge attribute names: 
    active 

Date of origin: [1] "2000-01-01"

== @trees== 
1 phylogenetic trees

== Empty slots == 
 @context
> summary(x)
Dataset of 418 individuals with...
== @individuals ==
individuals information
  418 entries
  recorded fields are:
  <infector> class: numeric,  mean: 84.26139,  sd:67.48384, range: [1;245],  1 NAs
  <DateInfected> class: character,  10 unique values,  frequency range: [1;173],  0 NAs
  <Sex> class: character,  2 unique values,  frequency range: [192;226],  0 NAs
  <Age> class: numeric,  mean: 35.09809,  sd:6.10833, range: [19;56],  0 NAs
  <lat> class: numeric,  mean: 51.51644,  sd:0.00304656, range: [51.50711;51.52625],  0 NAs
  <lon> class: numeric,  mean: -0.1711455,  sd:0.01051185, range: [-0.2013245;-0.140349],  0 NAs

== @records ==
records on:  Fever 
$Fever
  418 entries,  418 individuals, from 2000-01-03 to 2000-01-17
  recorded fields are:
  <temperature> class: numeric,  mean: 39.48541,  sd:0.5310073, range: [38;40.9],  0 NAs

== @dna ==
836 sequences across 2 loci, 418 individuals, from 2000-01-01 to 2000-01-10
length of concatenated alignment: 1600 nucleotides
Attached meta data:
  836 entries,  418 individuals, from 2000-01-01 to 2000-01-10
  recorded fields are:
  <locus> class: character,  2 unique values,  frequency range: [418;418],  0 NAs
  <sample> class: character,  418 unique values,  frequency range: [2;2],  0 NAs

== @contacts ==
19 contacts between 20 individuals

== @trees ==
1 phylogenetic trees with 418 tips

> 
> 
> ##  ACCESSORS
> get.nlocus(x)
[1] 2
> get.locus(x)
[1] "gene1" "gene2"
> get.nindividuals(x)
[1] 418
> head(get.individuals(x))
[1] "1" "2" "3" "4" "5" "6"
> get.individuals(x, data="contacts")
 [1] "1"  "2"  "6"  "5"  "4"  "7"  "11" "9"  "3"  "8"  "10" "12" "13" "14" "15"
[16] "16" "17" "18" "19" "20"
> get.nsequences(x)
[1] 836
> get.dna(x, locus="gene2")
$gene2
418 DNA sequences in binary format stored in a matrix.

All sequences of same length: 1000 

Labels: 419 420 421 422 423 424 ...

Base composition:
    a     c     g     t 
0.223 0.243 0.257 0.276 

> get.dna(x, locus=1)
$gene1
418 DNA sequences in binary format stored in a matrix.

All sequences of same length: 600 

Labels: 1 2 3 4 5 6 ...

Base composition:
    a     c     g     t 
0.237 0.248 0.252 0.263 

> head(get.data(x, "Fever"))
  individualID       date temperature
1            1 2000-01-03        39.1
2            2 2000-01-03        40.4
3            3 2000-01-07        40.0
4            4 2000-01-08        39.8
5            5 2000-01-04        39.4
6            6 2000-01-06        39.3
> head(get.data(x, "Age", showSource=TRUE))
  Age individualID      source
1  33            1 individuals
2  42            2 individuals
3  44            3 individuals
4  49            4 individuals
5  34            5 individuals
6  31            6 individuals
> head(get.data(x, c("Age","Sex", "infector"), showSource=TRUE))
  Age Sex infector individualID      source
1  33   M       NA            1 individuals
2  42   F        1            2 individuals
3  44   F        2            3 individuals
4  49   M        2            4 individuals
5  34   M        2            5 individuals
6  31   M        2            6 individuals
> 
> 
> ## GRAPHICS ##
> ## default plot (timeline of information) ##
> plot(x)
> plot(x, colorBy='Sex')
Error in list(x = x, y = y, ...) : 'x' is missing
Calls: plot ... <Anonymous> -> <Anonymous> -> do.call -> aes_string
Execution halted